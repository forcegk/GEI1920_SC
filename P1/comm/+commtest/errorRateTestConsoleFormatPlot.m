function errorRateTestConsoleFormatPlot(results,plotType)
%errorRateTestConsoleFormatPlot Format plots for the error rate test console
%   errorRateTestConsoleFormatPlot(RESULTS,plotType) adds a title, legend,
%   xlabel, ylabel, and zlabel to the plot generated by the results object
%   RESULTS. 
%   This function is called by the RESULTS object after creating a plot of the
%   type 'plotType' (which can be either plot, semilogy, or surf).

%   Copyright 2009 The MathWorks, Inc.
%   $Revision: 1.1.6.1 $  $Date: 2009/08/11 15:38:12 $

data = getData(results);

title(sprintf('Error rate at ''%s'' test point', results.TestPoint))
xlabel(results.TestParameter1)
if ~strcmp(plotType,'surf')
    ylabel(results.Metric)
else
    ylabel(results.TestParameter2)
    zlabel(results.Metric)
end
grid on

% Add legend if not a surf plot and if TestParameter2 is not = 'None'
if ~strcmp(plotType,'surf')
    if ~strcmp(results.TestParameter2,'None')
        numParam2 = size(data, 2);
        legendStr = cell(numParam2, 1);
        param2Range = getParameterRange(results, results.TestParameter2);
        for p=1:numParam2
            if iscell(param2Range)
                param2 = strrep(param2Range{p}, '_', '\_');
                legendStr{p} = sprintf('%s: %s', ...
                    results.TestParameter2, param2);
            else
                legendStr{p} = sprintf('%s: %1.2g', ...
                    results.TestParameter2, param2Range(p));
            end
        end
        legend(legendStr{:})
    end
end
end

